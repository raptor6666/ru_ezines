<html>
<head>
<title>==||The Gray Brotherhood Community||==||E-ZineS #2||==</title>
<META http-equiv=Content-Type content="text/php; charset=windows-1251">
<link rel="stylesheet" href="css/style.css" type="text/css">
<link rel="stylesheet" href="css/bord.css" type="text/css">
<link rel="shortcut icon" href="1.zzd">
</head>
<script type="text/javascript" src="css/mw_hint.zzd"></script>
<body>
<table border="0" width="900" align="center" valign="top">
<tr>
<td border="0" width="100%" align="center" valign="top">
<IMG SRC="css/images/head.jpg"  border="0" alt="The Gray Brotherhood Community">
</td>
</tr><tr><td align="center" >
</td></tr>
</table>


            <TABLE cellSpacing=0 cellPadding=0 width="749" border='0' align="center">
              <TBODY>
              <TR>
                <TD><IMG height=30 alt="" src="css/images/cat_left.gif" width=40></TD>
                <TD width=20 background="css/images/1.jpg" height=20><center>
		</center></TD>
                <TD><IMG height=30 alt="" src="css/images/cat_right.gif" width=40></TD></TR>
              <TR>
                <TD width=2 background="css/images/3.jpg" height=2></TD>
                <TD bgColor=#A9BECA>
                      <CENTER>
<br><b><a href='index.html' title='Содержание'>Содержание</a></b>
</CENTER>
<br><br>
<b>Еще раз о переполнение буфера.(для начинающих)</b>
<br><br>
	На эту тему было много написано но всё же... может моя статья будет поинтереснее.
Все знают что большенство удаленных атак осуществляется путем переполнения буфера,
самым лакомым куском данной атаки является вызов командного интерпритатора.<br><br>
	Стек это область памяти которую выделяет система для переменных, которые использует
та или иная программа. Буфер это ячейка памяти в стеке.Этой ячейки не известно какая длина
переменной, она может быть и 10 символов и 20 главное что бы в коде программы был ограничитель
ввода в эту переменную.В буфере вблизи от его конца лежит адрес возврата и если его затереть то
управление получит совсем другая функция. <br><br>
	Что бы не грузить теорией можно разобраться на живом примере. Наш подопытный Ichat 1.30
неплохой чат для локальной сети. Попробуем пофлудить... но к сожалению число вводимых символов 
ограничено, как не пытайся стек не сорвать. Пробуем исследовать дальше, находим функцию быстрых
сообщений, попробуем использовать ее. Задодим  максимальную длину сообщения и горячие клавиши, 
проверяем в поле для ввода, оказалось что тут число символов не ограничено. Вводим до посинения 
отправляем... программа закрылась. Теперь идет этап трудотерапии "Испытание черного ящика"!
(есть конечно более осмысленные методы поиска ошибок но этот материал ориентирован на начинающих).
После нескольких минут испытаний находим количество символов при котором Ichat выводит ошибку.<br><br>
Рис 1.
<center><img src=css/images/3/1.JPG ></center>
<br><br>
Что же тут? Инструкция по адресу 0040432E обратилась к памяти по адресу 41414141.
Первый адрес нас совершенно не интересует, запустим HEX редактор и введем наш второй адрес 
получим "AAAA". У меня "АААА" это часть быстрого сообщения. Из этого следует что именно
эти 4 буквы перезаписывают адрес возврата.Запускаем OLLYDBG и снова срываем стек.
<br><br>
Рис 2.
<center><img src=css/images/3/2.JPG ></center>
<br><br>
Нас интересует регистр ESP в момент срыва. Вводим адрес из регистра в дамп, находим нашу стоку
быстрого сообщения и запоминаем адрес у меня он равен 0012FB94(у вас может быть другим). Теоритически
можно была бы представить 0012FB94 в виде букв в том же HEX редакторе и подменить "АААА" на нужный
нам адрес, а там записать shell-код. Но к сожалению половина символов не печатаемая. Надо писать эксплойт, 
а это тема следующей статьи.<br>
	При испытаниях данной уязвимости в сети, все машины соединенные в чате подверглись Ddos'у этого приложения.
Можно сказать Ddos своими руками.<br><br>
P.S. На момент написания это 0day.=) Эта маленькая статья направлена на тех кому надоело "л0мать мыла и аськи" и
хочется продвигаться дальше.<br><br>
<b>Specialy for TGBR E-ZineS #2 from hellwood.</b><br>
<br><center>
<b><a href='index.html' title='Содержание'>Содержание</a></b><br></center>
<br>
</TD>
                <TD width=40 background="css/images/_3.jpg" height=30></TD></TR>
              <TR>
                <TD><IMG height=30 src="css/images/cat_left2.gif" width=40></TD>
                <TD width=30 background="css/images/_1.jpg" height=30></TD>
                <TD><IMG height=30 alt="" src="css/images/cat_right2.gif"  width=40></TD>
				</TR></TBODY>
				</TABLE>
		<table align="center" cellpadding="0" cellspacing="0">
    <tr>
        <td width="749">
         <br>	
		
		<center>
		<br><br>
<!--Rating@Mail.ru COUNTEr--><script language="JavaScript" type="text/javascript"><!--
d=document;var a='';a+=';r='+escape(d.referrer)
js=10//--></script><script language="JavaScript1.1" type="text/javascript"><!--
a+=';j='+navigator.javaEnabled()
js=11//--></script><script language="JavaScript1.2" type="text/javascript"><!--
s=screen;a+=';s='+s.width+'*'+s.height
a+=';d='+(s.colorDepth?s.colorDepth:s.pixelDepth)
js=12//--></script><script language="JavaScript1.3" type="text/javascript"><!--
js=13//--></script><script language="JavaScript" type="text/javascript"><!--
d.write('<a href="http://top.mail.ru/jump?from=1212823"'+
' target=_top><img src="http://d1.c8.b2.a1.top.list.ru/counter'+
'?id=1212823;t=135;js='+js+a+';rand='+Math.random()+
'" alt="Рейтинг@Mail.ru"'+' border=0 height=40 width=88/><\/a>')
if(11<js)d.write('<'+'!-- ')//--></script><noscript><a
target=_top href="http://top.mail.ru/jump?from=1212823"><FONT size="1">[AD]</FONT><AD- p.list.ru/counter?js=na;id=1212823;t=135"
border=0 height=40 width=88
alt="Рейтинг@Mail.ru"/></a></noscript><script language="JavaScript" type="text/javascript"><!--
if(11<js)d.write('--'+'>')//--></script><!--/COUNTER-->
</center>
        </td>
    </tr>
</table>


</body>
</html>